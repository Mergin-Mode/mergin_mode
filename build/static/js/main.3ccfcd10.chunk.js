(this.webpackJsonp3drw=this.webpackJsonp3drw||[]).push([[0],{185:function(e,t,a){e.exports=a(430)},190:function(e,t,a){},192:function(e,t,a){},203:function(e,t,a){},430:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(33),i=a.n(o),l=(a(190),a(191),a(184)),c=a(174),s=a(54),d=(a(192),a(432)),m=a(433),u=a(434),p=a(435),h=a(436),f=a(442),w=a(441),E=a(443),b=a(437),v=a(438),g=a(439),k=a(440),y=a(2),S=a(175),C=a(116);function j(e,t,a,n,r,o,i,l){i.FBXLoader=C.a;new y.g;var c=new y.N,s=new y.Z;(a=new y.P).background=new y.h(0),(n=new y.eb({antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.shadowMap.enabled=!0,document.getElementById("three-map").appendChild(n.domElement),(e=new y.H(60,window.innerWidth/window.innerHeight,1,1e3)).position.set(20,20,20),e.up.set(0,0,1),(t=new S.a(e,n.domElement)).enableDamping=!0,t.dampingFactor=.05,t.screenSpacePanning=!1,t.minDistance=10,t.maxDistance=500,t.maxPolarAngle=Math.PI/2,function(e){for(var t=e.getAttribute("position"),a=t.array,n=e.parameters.width,r=e.parameters.height,o=0;o<n;o++)for(var i=0;i<r;i++)a[3*(o*r+i)+2]=0;t.needsUpdate=!0,e.computeVertexNormals()}(p=new y.I(1e3,1e3,100,100)),(h=new y.D({color:16776960,side:y.l})).flatShading=!0;var d=new y.A(p,h);d.position.set(0,0,0),d.castShadow=!0,d.receiveShadow=!0,a.add(d),(u=new y.j(16777215)).position.set(1,1,100),u.shadow={camera:{near:.5,far:300,left:-50,bottom:-50,right:50,top:50},bias:1e-4,mapSize:{x:6144,y:6144}},a.add(u);var m=new y.k(u,5);a.add(m),(u=new y.j(8840)).position.set(-0,-0,-100),a.add(u);m=new y.k(u,5);a.add(m);var u=new y.a(6710886);a.add(u);var p=new y.S(1,32,32),h=new y.B({color:16711680});return r=new y.A(p,h),a.add(r),function r(){requestAnimationFrame(r),t.update(),n.render(a,e)}(),window.addEventListener("resize",(function(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),!1),window.addEventListener("mousedown",(function(t){var a=document.getElementById("three-map").getBoundingClientRect(),n=a.left,o=a.top;s.x=(t.clientX-n)/window.innerWidth*2-1,s.y=-(t.clientY-o)/window.innerHeight*2+1,c.setFromCamera(s,e);var i=c.intersectObject(d);i.length>0&&(r.position.set(0,0,0),r.lookAt(i[0].face.normal),r.position.copy(i[0].point))}),!1),{camera:e,controls:t,scene:a,renderer:n,pointer:r,partials:{plane:d,pointer:r},loaders:i}}C.a.prototype.load2=function(e,t){var a=this,n=e[0],r=new FileReader;r.onload=function(e){if(2===e.target.readyState||0===e.target.status){var n=a.parse(e.target.result||e.target.responseText);t&&t(n)}},r.readAsArrayBuffer(n)};var x=a(111),O=a(112),N=a.n(O),A=a(34),B=a(72),P=a(36),z=a(35),K=a(37),I=(a(202),a(203),a(183)),R=a(110),D=function(e){function t(e){var a;Object(A.a)(this,t),a=Object(P.a)(this,Object(z.a)(t).call(this,e));e.keys;return a.state={clicked:!1,color:"#000"},a}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return this.state.clicked?r.a.createElement(R.SketchPicker,null):r.a.createElement("div",{style:{backgroundColof:this.state.color,border:"3px solid whitesmoke",borderRadius:"4px",width:"16px",height:"16px",float:"right"}})}}]),t}(r.a.Component);D.defaultProps={};var M=[{key:"0-0",title:"Scene",checkable:!1,selectable:!1,children:[{key:"0-0-0",title:"Background",checkable:!1,selectable:!1,children:[{key:"0-0-0-0",title:"Color"},{key:"0-0-0-1",title:"Image"},{key:"0-0-0-2",title:"Video"}]},{key:"0-0-1",title:"Ground",checkable:!1,selectable:!1,children:[{key:"0-0-1-0",title:"Color"},{key:"0-0-1-1",title:"Image"},{key:"0-0-1-2",title:"Vertices"}]}]}],F=function(e){function t(e){var a;Object(A.a)(this,t),(a=Object(P.a)(this,Object(z.a)(t).call(this,e))).onExpand=function(e){console.log("onExpand",e)},a.onSelect=function(e,t){console.log("selected",e,t),a.selKey=t.node.props.eventKey},a.onCheck=function(e,t){console.log("onCheck",e,t)},a.onEdit=function(){setTimeout((function(){console.log("current key: ",a.selKey)}),0)},a.onDel=function(e){window.confirm("sure to delete?")&&e.stopPropagation()},a.setTreeRef=function(e){a.tree=e};var n=e.keys;return a.state={defaultExpandedKeys:n,defaultSelectedKeys:[],defaultCheckedKeys:n},a.treeRef=r.a.createRef(),a}return Object(K.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){r.a.createElement("span",{className:"cus-label"},r.a.createElement("span",null,"operations: "),r.a.createElement("span",{style:{color:"blue"},onClick:this.onEdit},"Edit"),"\xa0",r.a.createElement("label",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("input",{type:"checkbox"})," checked"),"\xa0",r.a.createElement("span",{style:{color:"#EB0000"},onClick:this.onDel},"Delete"));return r.a.createElement("div",{style:{margin:"0 20px"}},r.a.createElement(I.a,{className:"myCls",showLine:!0,checkable:!0,multiple:!1,checkStrictly:!0,selectable:!0,defaultExpandAll:!0,onExpand:this.onExpand,defaultSelectedKeys:this.state.defaultSelectedKeys,defaultCheckedKeys:this.state.defaultCheckedKeys,onSelect:this.onSelect,onCheck:this.onCheck,treeData:M}))}}]),t}(r.a.Component);F.defaultProps={keys:["0-0-0-0"]};var H=F;N.a.setAppElement("#root");var W=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!1),y=Object(s.a)(i,2),S=y[0],C=y[1],O=Object(n.useState)([]),A=Object(s.a)(O,2),B=A[0],P=A[1],z=Object(n.useState)({camera:{},controls:{},scene:{},renderer:{},pointer:{},partials:{},loaders:{}}),K=Object(s.a)(z,2),I=K[0],R=K[1],D=function(){return C(!S)};return Object(n.useEffect)((function(){var e=I.camera,t=I.controls,a=I.scene,n=I.renderer,r=I.pointer,o=(I.partials,I.loaders),i=(document.getElementById("three-map"),j(e,t,a,n,r,0,o));R(Object(c.a)({},i))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(d.a,{expand:"md"},r.a.createElement(m.a,{href:"/"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("div",{className:"logo"}),"Mergin' Mode")),r.a.createElement(u.a,{onClick:function(){return o(!a)}}),r.a.createElement(p.a,{isOpen:a,navbar:!0},r.a.createElement(h.a,{className:"mr-auto",navbar:!0},r.a.createElement(f.a,{nav:!0,inNavbar:!0},r.a.createElement(w.a,{nav:!0,caret:!0},"File"),r.a.createElement(E.a,{right:!0},r.a.createElement(b.a,{onClick:D},r.a.createElement("span",null,"Import ")),r.a.createElement(b.a,null,"Open"),r.a.createElement(b.a,{divider:!0}))),r.a.createElement(v.a,null,r.a.createElement(g.a,{href:"https://github.com/prieston/mergin_mode"},"GitHub"))),r.a.createElement(k.a,null,"Mergin' Mode")))),r.a.createElement("main",null,r.a.createElement(x.a,{split:"horizontal",minSize:50,maxSize:-50,defaultSize:"80%"},r.a.createElement("div",null,r.a.createElement(x.a,{split:"vertical",minSize:50,maxSize:-50,defaultSize:"20%"},r.a.createElement("div",null,r.a.createElement(H,null)),r.a.createElement("div",{id:"three-map"}))),r.a.createElement("div",null))),r.a.createElement(N.a,{isOpen:S,onRequestClose:function(){return C(!S)}},r.a.createElement("div",{className:"container form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("input",{className:"form-control",type:"file",onChange:function(e){P(Object(l.a)(e.target.files))}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{className:"btn btn-primary form-control",onClick:function(){return function(e){var t=I.scene;(new I.loaders.FBXLoader).load2(e,(function(e){e.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),t.add(e),C(!S)}))}(B)}},"Load")),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{className:"btn btn-secondary form-control",onClick:D},"Close"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[185,1,2]]]);
//# sourceMappingURL=main.3ccfcd10.chunk.js.map